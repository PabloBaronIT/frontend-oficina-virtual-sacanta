"use strict";(self["webpackChunkoficina_vue"]=self["webpackChunkoficina_vue"]||[]).push([[279],{1279:function(e,t,s){s.r(t),s.d(t,{default:function(){return J}});var a=s(3396),o=s(7139);const r=e=>((0,a.dD)("data-v-3ba6f98e"),e=e(),(0,a.Cn)(),e),n={key:0,class:"main"},i={class:"container"},l={key:0,class:"prueba-container l"},d=r((()=>(0,a._)("div",{class:"spinner-grow text-success",role:"status"},[(0,a._)("span",{class:"sr-only"})],-1))),c=r((()=>(0,a._)("div",{class:"spinner-grow text-success",role:"status"},[(0,a._)("span",{class:"sr-only"})],-1))),u=r((()=>(0,a._)("div",{class:"spinner-grow text-success",role:"status"},[(0,a._)("span",{class:"sr-only"})],-1))),p=[d,c,u],m={key:1,class:"prueba-container",id:"elemento"},h=r((()=>(0,a._)("h2",null,"Último paso:",-1))),g=r((()=>(0,a._)("p",null,[(0,a.Uk)(" Este tramite es arancelado, una vez que se "),(0,a._)("br"),(0,a.Uk)(" procese el pago podra descargar su comprobante. ")],-1))),b=r((()=>(0,a._)("button",{type:"button",class:"btn btn-primary m-1","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Ver detalles de trámite ",-1))),_={class:"modal fade asd",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},w={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},v={class:"modal-content",id:"content",style:{width:"100%",height:"100%","font-size":"15px"}},f=r((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"}," Detalle: "),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),y={style:{display:"flex","flex-direction":"row","justify-content":"space-between",padding:"0px 1rem"}},k={class:"modal-body text-start"},x={style:{display:"flex","flex-direction":"row","justify-content":"space-between",padding:"0px 1rem"}},z=r((()=>(0,a._)("p",null,"respuetas:",-1))),C={class:"footerCoprobante"},$=r((()=>(0,a._)("div",null,[(0,a._)("p",null,"Declaro que los datos asignados son verdaderos.")],-1))),P={key:0,class:"textRepresentative"},D={class:"modal-footer"},U=r((()=>(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Cerrar ",-1)));function L(e,t,s,r,d,c){const u=(0,a.up)("PagarComponent");return c.setPermission?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",i,[this.loading?((0,a.wg)(),(0,a.iD)("div",l,p)):((0,a.wg)(),(0,a.iD)("div",m,[h,g,(0,a.Wm)(u,{setLoading:this.setLoading},null,8,["setLoading"]),b,(0,a._)("div",_,[(0,a._)("div",w,[(0,a._)("div",v,[f,(0,a._)("div",y,[(0,a._)("p",null," Usuario:"+(0,o.zw)(this.$store.state.user.firstname)+" "+(0,o.zw)(" ")+" "+(0,o.zw)(this.$store.state.user.lastname),1),(0,a._)("p",null,"cuil:"+(0,o.zw)(this.$store.state.user.cuil),1)]),(0,a._)("div",k,[(0,a._)("h2",null,(0,o.zw)(this.$store.state.procedure[0].title||""),1),(0,a._)("div",x,[(0,a._)("p",null,"Fecha: "+(0,o.zw)(this.$store.state.procedure[0].fecha||""),1),(0,a._)("p",null," Valor: "+(0,o.zw)(this.$store.state.procedure[0].precio||""),1)]),z,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.$store.state.procedure[0].questions,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"answer"},[(0,a._)("p",null,(0,o.zw)(e.question_option_history[0].answer||""),1)])))),128))]),(0,a._)("div",C,[$,this.$store.state.representante?((0,a.wg)(),(0,a.iD)("div",P,[(0,a.Uk)(" Este trámite fue presentado por "),(0,a._)("strong",null,(0,o.zw)(this.$store.state.representante.firstname)+" "+(0,o.zw)(this.$store.state.representante.lastname)+" en ",1),(0,a.Uk)(" representacion de "),(0,a._)("strong",null,(0,o.zw)(this.$store.state.user.firstname)+" "+(0,o.zw)(this.$store.state.user.lastname),1)])):(0,a.kq)("",!0)]),(0,a._)("div",D,[U,(0,a._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>c.download&&c.download(...e)),class:"btn btn-primary"}," Descargar ")])])])])]))])])):(0,a.kq)("",!0)}const T=e=>((0,a.dD)("data-v-163499eb"),e=e(),(0,a.Cn)(),e),q={class:"containerA"},I={class:"text"},Z=T((()=>(0,a._)("h2",null,"Trámite arancelado",-1))),A=T((()=>(0,a._)("b",null,null,-1))),E={key:0,class:"alert alert-success",role:"alert",style:{"word-wrap":"break-word"}},M={href:""};function G(e,t,s,r,n,i){return(0,a.wg)(),(0,a.iD)("div",q,[(0,a._)("div",I,[(0,a._)("b",null,(0,o.zw)(this.$store.state.procedure[0].title),1),Z,(0,a._)("p",null,[(0,a.Uk)(" Este trámite tiene un valor total de $"+(0,o.zw)(this.$store.state.procedure[0].precio)+" ",1),A]),(0,a._)("input",{class:"btn",type:"button",value:"Abonar mi trámite",style:{width:"50%"},onClick:t[0]||(t[0]=(...e)=>i.submitPago&&i.submitPago(...e))})]),this.modal?((0,a.wg)(),(0,a.iD)("div",E,[(0,a.Uk)(" Abra el siguiente link en el navegador Google Chrome para realizar su pago "),(0,a._)("a",M,(0,o.zw)(this.link),1)])):(0,a.kq)("",!0)])}var V=s(70),j=s(8713),F=s(5939),R=s(9306),B={name:"PagarComponent",created(){this.procedure_amount=this.$store.state.procedure[0].precio,this.idTramitePago=parseInt(this.$route.params.idTramite);let e=navigator.userAgent;console.log(e),e.indexOf("Chrome")>-1?this.browser="Google Chrome":this.browser="desconocido",console.log("Usted está utilizando: "+this.browser)},data(){return{procedure_amount:"",idTramitePago:"",modal:!1,link:"",browser:""}},props:{setLoading:Function},methods:{submitPago(){this.setLoading();const e=V.ZP.create({baseURL:R._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});e.post("/payment-procedure",{procedure_history_id:this.idTramitePago,procedure_amount:this.procedure_amount}).then((e=>{console.log(e.data),this.setLoading(),"Google Chrome"===this.browser?window.location.href=e.data.Url:(this.link=e.data.Url,this.modal=!0)})).catch((e=>{console.log(e),500===e.response.status&&("Token de usuario expirado"===e.response.data.message&&((0,j.Z)(),this.submitPago()),"Token de representante expirado"===e.response.data.message&&((0,F.Z)(),this.submitPago()))}))}}},H=s(89);const K=(0,H.Z)(B,[["render",G],["__scopeId","data-v-163499eb"]]);var O=K,S=s(8914),W={name:"PagoView",data(){return{loading:!0,comprobante:!1}},computed:{setPermission(){return!0===this.$store.state.loggedIn}},created(){setTimeout((()=>{this.loading=!1}),1e3)},components:{PagarComponent:O},methods:{download(){let e=document.getElementById("content");var t=new S.ZP({orientation:"p",unit:"px",format:"a4"});t.html(e,{y:2,x:2,callback:function(e){e.save("ConstanciaPago.pdf")}})},verComprobante(){this.comprobante=!this.comprobante},setLoading(){this.loading=!this.loading}}};const Y=(0,H.Z)(W,[["render",L],["__scopeId","data-v-3ba6f98e"]]);var J=Y}}]);
//# sourceMappingURL=279.1579e8af.js.map