{"version":3,"file":"js/241.27429ed5.js","mappings":"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","sources":["webpack://oficina-vue/./src/views/Notificaciones/NotificacionesView.vue","webpack://oficina-vue/./src/components/Notificaciones/CardNotificacionComponent.vue","webpack://oficina-vue/./src/components/Notificaciones/CardNotificacionComponent.vue?a37f","webpack://oficina-vue/./src/views/Notificaciones/NotificacionesView.vue?99f2"],"sourcesContent":["<template>\r\n  <div class=\"sector-container\" v-if=\"setPermission\">\r\n    <div class=\"top\">\r\n      <h1>Mis Comunicaciones</h1>\r\n    </div>\r\n    <!-- LISTADO DE COMUNICACIONES -->\r\n\r\n    <CardNotificacionComponentVue\r\n      :dato=\"communication\"\r\n      data-bs-toggle=\"modal\"\r\n      data-bs-target=\"#exampleModal\"\r\n      :v-if=\"communications.length && this.loading === false\"\r\n      v-for=\"(communication, index) in communications\"\r\n      :key=\"index\"\r\n      @click=\"setComunicacion(index)\"\r\n    />\r\n    <div :v-if=\"this.message && this.loading === false\">\r\n      <h1>{{ this.message }}</h1>\r\n    </div>\r\n    <h1></h1>\r\n    <!-- MODAL VISTA DE LA COMUNICACION-->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"exampleModal\"\r\n      tabindex=\"-1\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n      v-if=\"this.selectCommunication\"\r\n    >\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title fs-5\" id=\"exampleModalLabel\">\r\n              Comunicado: {{ this.selectCommunication.subject || \"\" }}\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            ></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <p>\r\n              {{ this.selectCommunication.message || \"\" }}\r\n            </p>\r\n\r\n            <!-- <div style=\"display: flex; justify-content: space-around\">\r\n              <p>\r\n                Firmado por:\r\n                <strong>{{ this.selectCommunication.Firma }}</strong>\r\n              </p>\r\n              <p>\r\n                {{ this.selectCommunication.Fecha }}\r\n              </p>\r\n            </div> -->\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary\"\r\n              data-bs-dismiss=\"modal\"\r\n            >\r\n              Cerrar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"loading\">\r\n      <div v-if=\"this.loading\" class=\"spinner-border loading\" role=\"status\">\r\n        <span class=\"sr-only\"></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CardNotificacionComponentVue from \"../../components/Notificaciones/CardNotificacionComponent.vue\";\r\nimport axios from \"axios\";\r\nimport setToken from \"@/middlewares/setToken\";\r\nimport { BASE_URL } from \"@/env\";\r\n\r\nexport default {\r\n  components: {\r\n    CardNotificacionComponentVue,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      communications: [],\r\n      //cidiCookie: \"\",\r\n      loading: false,\r\n      selectCommunication: null,\r\n      message: null,\r\n    };\r\n  },\r\n  created() {\r\n    //this.cidiCookie = this.$store.state.CidiCookie;\r\n    this.getCommunication();\r\n  },\r\n  computed: {\r\n    setPermission() {\r\n      if (this.$store.state.loggedIn === true) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    getCommunication() {\r\n      this.loading = true;\r\n      //console.log(this.cidiCookie);\r\n\r\n      const apiClient = axios.create({\r\n        baseURL: BASE_URL,\r\n        withCredentials: false,\r\n        headers: {\r\n          \"auth-header\": localStorage.getItem(\"token\"),\r\n        },\r\n      });\r\n      apiClient\r\n        .get(\"/communications/my-communications\")\r\n        .then((response) => {\r\n          this.loading = false;\r\n          console.log(response.data);\r\n          let comunicaciones = response.data.Communications;\r\n\r\n          for (let i = 0; i < comunicaciones.length; i++) {\r\n            const element = comunicaciones[i];\r\n\r\n            this.communications.push(element);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          if (error.response.status === 404) {\r\n            this.message = error.response.data.message;\r\n            this.loading = false;\r\n          }\r\n          if (error.response.status === 500) {\r\n            if (error.response.data.message === \"Token vencido\") {\r\n              setToken();\r\n              this.getCommunication();\r\n            }\r\n          }\r\n          if (error.response.status === 401) {\r\n            this.$router.push(\"micuenta-update\");\r\n          }\r\n        });\r\n    },\r\n    setComunicacion(index) {\r\n      this.selectCommunication = this.communications[index];\r\n      console.log(this.selectCommunication, \"soy la comunicacionw\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.top {\r\n  text-align: left;\r\n  margin-left: 3rem;\r\n  margin-top: 2rem;\r\n  margin-bottom: 2rem;\r\n}\r\n.top h1 {\r\n  text-align: left;\r\n}\r\n.sector-container {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: var(--grey-bk);\r\n}\r\n.loading {\r\n  margin-top: 5rem;\r\n}\r\nh5 {\r\n  color: var(--green);\r\n}\r\n</style>\r\n","<template>\r\n  <main class=\"flex-container\">\r\n    <div class=\"top\">\r\n      <p>Haz recibido un mensaje</p>\r\n      <p>\r\n        {{ new Date(dato.created_at).toLocaleDateString() }}\r\n      </p>\r\n    </div>\r\n    <div\r\n      class=\"descripcion\"\r\n      data-bs-toggle=\"modal\"\r\n      data-bs-target=\"#exampleModal\"\r\n    >\r\n      <p>{{ dato.subject }}</p>\r\n\r\n      <!-- <div class=\"leido\" v-if=\"dato.LeidoPortal === `S`\"><p>Leido</p></div> -->\r\n    </div>\r\n  </main>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"CardNotificacionesComponent\",\r\n  props: {\r\n    dato: Object,\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.flex-container {\r\n  width: 90%;\r\n  height: auto;\r\n  /* border-top-left-radius: 30px; */\r\n  /* border-top-right-radius: 30px; */\r\n  box-shadow: 5px 5px 12px #444;\r\n  text-align: left;\r\n  margin: auto;\r\n  margin-top: 1rem;\r\n  cursor: pointer;\r\n}\r\n.top {\r\n  background-image: linear-gradient(\r\n    to right,\r\n    #399943,\r\n    #4ea242,\r\n    #62aa40,\r\n    #75b23f,\r\n    #88ba3e\r\n  );\r\n  width: 100%;\r\n  color: white;\r\n  padding-left: 2rem;\r\n  height: 3rem;\r\n  /* border-top-left-radius: 30px; */\r\n  /* border-top-right-radius: 30px; */\r\n  padding-top: 0.5rem;\r\n  padding: 0 1rem;\r\n\r\n  text-align: left;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n}\r\n.descripcion {\r\n  height: 3rem;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 1rem;\r\n}\r\n.leido {\r\n  height: 1.5rem;\r\n  width: 4rem;\r\n  background: green;\r\n  align-items: center;\r\n  padding-left: 0.7rem;\r\n  justify-content: center;\r\n  border-radius: 10px;\r\n  color: white;\r\n}\r\n</style>\r\n","import { render } from \"./CardNotificacionComponent.vue?vue&type=template&id=45ac9b9b&scoped=true\"\nimport script from \"./CardNotificacionComponent.vue?vue&type=script&lang=js\"\nexport * from \"./CardNotificacionComponent.vue?vue&type=script&lang=js\"\n\nimport \"./CardNotificacionComponent.vue?vue&type=style&index=0&id=45ac9b9b&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User 2\\\\OneDrive\\\\Escritorio\\\\oficina-virtuaL-Romi\\\\frontend-oficina-virtual\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-45ac9b9b\"]])\n\nexport default __exports__","import { render } from \"./NotificacionesView.vue?vue&type=template&id=8146926c&scoped=true\"\nimport script from \"./NotificacionesView.vue?vue&type=script&lang=js\"\nexport * from \"./NotificacionesView.vue?vue&type=script&lang=js\"\n\nimport \"./NotificacionesView.vue?vue&type=style&index=0&id=8146926c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User 2\\\\OneDrive\\\\Escritorio\\\\oficina-virtuaL-Romi\\\\frontend-oficina-virtual\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8146926c\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","tabindex","type","role","_hoisted_15","$options","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","$data","communication","index","_createBlock","_component_CardNotificacionComponentVue","dato","length","this","loading","key","onClick","message","_hoisted_4","selectCommunication","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","subject","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_3","Date","$props","created_at","toLocaleDateString","name","props","Object","data","__exports__","components","CardNotificacionComponentVue","communications","created","getCommunication","computed","setPermission","$store","state","loggedIn","methods","apiClient","axios","baseURL","BASE_URL","withCredentials","headers","localStorage","getItem","get","then","response","console","log","comunicaciones","Communications","i","element","push","catch","error","status","setToken","$router","setComunicacion","render"],"sourceRoot":""}