"use strict";(self["webpackChunkoficina_vue"]=self["webpackChunkoficina_vue"]||[]).push([[377],{954:function(e,t,s){s.r(t),s.d(t,{default:function(){return tt}});var i=s(3396);const a=e=>((0,i.dD)("data-v-f41a03b6"),e=e(),(0,i.Cn)(),e),n={key:0,class:"sector-container"},o=a((()=>(0,i._)("h1",{class:"tituloPrincipal"},[(0,i.Uk)(" Presentadas "),(0,i._)("h4",{style:{color:"#4b4a49","font-weight":"100"}}," Gestiones presentadas hasta la fecha. ")],-1))),r={key:1,class:"prueba-container l"},l=a((()=>(0,i._)("div",{class:"spinner-grow text-success",role:"status"},[(0,i._)("span",{class:"sr-only"})],-1))),c=a((()=>(0,i._)("div",{class:"spinner-grow text-success",role:"status"},[(0,i._)("span",{class:"sr-only"})],-1))),d=a((()=>(0,i._)("div",{class:"spinner-grow text-success",role:"status"},[(0,i._)("span",{class:"sr-only"})],-1))),u=[l,c,d];function p(e,t,s,a,l,c){const d=(0,i.up)("Tabla");return c.setPermission&&!this.loading?((0,i.wg)(),(0,i.iD)("main",n,[o,(0,i.Wm)(d,{setLoading:this.setLoading},null,8,["setLoading"])])):((0,i.wg)(),(0,i.iD)("div",r,u))}var m=s(7139),h=s(9242),g=s(5554),_=s(1593),w=s.p+"img/DescargaColor.6bdb574e.svg",f=s.p+"img/Descargar.89a8a6fc.svg",k=s(9335),v=s.p+"img/upload.41be5b8e.svg",y=s(731),D=s(8018);const b=e=>((0,i.dD)("data-v-1a798378"),e=e(),(0,i.Cn)(),e),T={class:"tabla-container"},q={style:{"margin-bottom":"3vh"}},z={class:"modalTramite"},C={class:"divTitulos"},R=b((()=>(0,i._)("p",null,"N° GESTIÓN",-1))),F=b((()=>(0,i._)("p",null,"FECHA",-1))),P=b((()=>(0,i._)("p",null,"TÍTULO",-1))),S={class:"nav"},x={class:"pagNum"},L=b((()=>(0,i._)("p",null,[(0,i._)("img",{src:w,alt:"",srcset:""})],-1))),Z={class:"encabezado"},U=["onClick"],M=["onClick"],A=["onClick"],I=b((()=>(0,i._)("p",null,null,-1))),N=["onClick"],E=b((()=>(0,i._)("img",{src:f,alt:""},null,-1))),H=[E],B=["onClick"],O={key:0},V={key:1},j=["onClick"],$={key:2},W=["onClick"],Y={class:"modalRespuesta"},G={key:0,class:"modal-content"},K={class:"modal-top"},Q={key:0},J={key:0,class:"response"},X=b((()=>(0,i._)("label",{for:"asunto"},"Respuesta",-1))),ee={class:"file-container2"},te={key:0,class:"file-intro"},se=b((()=>(0,i._)("img",{alt:"",id:"img-preview",class:"imgFile",src:v},null,-1))),ie=b((()=>(0,i._)("hr",null,null,-1))),ae={class:"fileup"},ne={key:1,class:"cargado"},oe=b((()=>(0,i._)("img",{src:y,alt:"",id:"img-preview",class:"imgFile"},null,-1))),re=b((()=>(0,i._)("p",null,"Archivo cargado",-1))),le=[oe,re],ce={key:1,class:"enviado"},de={key:0,class:"grafico-container"},ue={class:"modal-top"},pe={class:"data-container"},me=b((()=>(0,i._)("br",null,null,-1))),he=b((()=>(0,i._)("h5",null,"Ultima comunicación de su trámite:",-1))),ge={key:0,class:"requerimiento"},_e={key:1,class:"divDocumentos"},we=b((()=>(0,i._)("h5",null,"Documentación disponible para descargar",-1))),fe=["href"],ke={key:1,class:"grafico-container pdf"},ve={key:0,style:{width:"90%",margin:"auto"},id:"content1"},ye={class:"modal-top"},De={style:{width:"100%"}},be={key:1,id:"content2",style:{width:"90%",margin:"auto"}},Te={class:"modal-top"},qe={style:{width:"100%"}},ze={key:2,id:"content3",style:{width:"90%",margin:"auto"}},Ce={class:"modal-top"},Re={style:{width:"100%"}},Fe={style:{width:"50%",display:"flex","flex-direction":"row","justify-content":"space-around"}},Pe={key:2,class:"sinTramites"},Se={class:"volver"},xe=b((()=>(0,i._)("img",{src:D,alt:"imagen"},null,-1))),Le=b((()=>(0,i._)("h4",null,"Volver al Incio",-1)));function Ze(e,t,s,a,n,o){const r=(0,i.up)("SearchPresentadasComponent"),l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",T,[(0,i._)("div",q,[(0,i.Wm)(r)]),(0,i._)("div",z,[(0,i._)("div",C,[R,F,P,(0,i._)("div",S,[(0,i._)("div",x,(0,m.zw)(this.pagina)+" de 1",1),this.pagina>1?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"svg",onClick:t[0]||(t[0]=(...e)=>o.backTramites&&o.backTramites(...e)),src:g,alt:""})):(0,i.kq)("",!0),10===this.l?((0,i.wg)(),(0,i.iD)("img",{key:1,onClick:t[1]||(t[1]=(...e)=>o.nextPag&&o.nextPag(...e)),class:"svg",src:_,alt:""})):(0,i.kq)("",!0)]),L]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.activos,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i._)("div",Z,[(0,i._)("p",{onClick:t=>o.verTramite(e.id),style:{cursor:"pointer"}},(0,m.zw)(e.id),9,U),(0,i._)("p",{onClick:t=>o.verTramite(e.id),style:{cursor:"pointer"}},(0,m.zw)(e.estado),9,M),(0,i._)("p",{onClick:t=>o.verTramite(e.id),style:{cursor:"pointer"}},(0,m.zw)(e.categoria),9,A),I,(0,i._)("p",{onClick:t=>this.open(e.id),style:{cursor:"pointer","text-decoration":"underline","padding-right":"2.5vw"}},H,8,N)]),(0,i._)("div",{class:(0,m.C_)(e.open?"open":"noOpen")},[(0,i._)("p",null,"Historial del tramite "+(0,m.zw)(e.id)+":",1),(0,i._)("p",null,[(0,i.Uk)(" Fecha de presentación: "+(0,m.zw)(new Date(this.presentacionTramite).toLocaleDateString())+" ",1),(0,i._)("img",{src:f,alt:"",onClick:t=>o.createPDFsubmitt(e.id)},null,8,B)]),this.inicioTramite?((0,i.wg)(),(0,i.iD)("p",O," Fecha de Inicio: "+(0,m.zw)(new Date(this.inicioTramite).toLocaleDateString()),1)):(0,i.kq)("",!0),this.requerimientoTramite?((0,i.wg)(),(0,i.iD)("div",V,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.requerimientoTramite,(t=>((0,i.wg)(),(0,i.iD)("p",{key:t.id},[(0,i.Uk)(" Fecha de Requerimiento/s: "+(0,m.zw)(new Date(t.created_at).toLocaleDateString())+" - ",1),(0,i._)("img",{src:f,alt:"",onClick:s=>o.createPDFrequirement(e.id,t.id)},null,8,j)])))),128))])):(0,i.kq)("",!0),this.finalizacionTramite?((0,i.wg)(),(0,i.iD)("p",$,[(0,i.Uk)(" Fecha de Finalización: "+(0,m.zw)(new Date(this.finalizacionTramite).toLocaleDateString())+" ",1),(0,i._)("img",{src:f,alt:"",onClick:t=>o.createPDFfinalized(e.id)},null,8,W)])):(0,i.kq)("",!0)],2)])))),128))]),(0,i._)("div",Y,[!0===this.modalresponse?((0,i.wg)(),(0,i.iD)("div",G,[(0,i._)("div",K,[this.message?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("h5",Q,"Respuesta:")),(0,i._)("p",null,"Nº Tramite: "+(0,m.zw)(this.idTramite),1),(0,i._)("img",{onClick:t[2]||(t[2]=e=>o.CloseModalRespuesta(e)),class:"svg",src:k,alt:""})]),e.message?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",J,[X,(0,i.wy)((0,i._)("textarea",{"aria-multiline":"true",name:"asunto",id:"","onUpdate:modelValue":t[3]||(t[3]=e=>this.respuestaA=e)},null,512),[[h.nr,this.respuestaA]]),(0,i._)("div",ee,[n.asd?((0,i.wg)(),(0,i.iD)("div",ne,le)):((0,i.wg)(),(0,i.iD)("div",te,[se,ie,(0,i._)("input",{accept:".jpg, .jpeg, .png, .webp",type:"file",id:"img-uploader",onChange:t[4]||(t[4]=e=>o.selectFile(e))},null,32),(0,i._)("div",ae,[this.file?((0,i.wg)(),(0,i.iD)("input",{key:0,class:"m-2 btn btn-secondary",type:"button",value:"Subir archivo",onClick:t[5]||(t[5]=e=>o.postFile())})):(0,i.kq)("",!0)])]))]),this.respuestaA||this.respuestaB?((0,i.wg)(),(0,i.iD)("input",{key:0,class:"botonSubmit",type:"button",value:"Enviar",onClick:t[6]||(t[6]=(...e)=>o.sentRespuesta&&o.sentRespuesta(...e))})):(0,i.kq)("",!0)])),e.message?((0,i.wg)(),(0,i.iD)("h3",ce,(0,m.zw)(this.message),1)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)]),n.modalVista?((0,i.wg)(),(0,i.iD)("div",de,[(0,i._)("div",ue,[(0,i._)("h3",null,(0,m.zw)(this.selectTramite.procedure.category.title),1),(0,i._)("img",{onClick:t[7]||(t[7]=e=>this.modalVista=!1),class:"svg",src:k,alt:""})]),(0,i._)("div",pe,[(0,i._)("div",null,"Tramite n°:"+(0,m.zw)(this.selectTramite.procedure.id),1),(0,i._)("p",null,[(0,i.Uk)(" Nombre de trámite: "+(0,m.zw)(this.selectTramite.procedure.procedure.title)+" ",1),me,(0,i.Uk)(" Estado:"+(0,m.zw)(this.selectTramite.procedure.status.status),1)]),(0,i._)("div",null,[he,(0,i._)("p",null,(0,m.zw)(this.selectTramite.procedure.communication[this.selectTramite.procedure.communication.length-1].message),1)]),this.selectTramite.procedure.requirementHistory.length>=1&&!0===this.selectTramite.procedure.requirementHistory[this.selectTramite.procedure.requirementHistory.length-1].active?((0,i.wg)(),(0,i.iD)("div",ge,[(0,i._)("p",null,[(0,i.Uk)(" Requerimiento: "),(0,i._)("strong",null,(0,m.zw)(this.selectTramite.procedure.requirementHistory[this.selectTramite.procedure.requirementHistory.length-1].info_req),1)]),(0,i._)("input",{type:"button",value:"Responder",onClick:t[8]||(t[8]=e=>o.OpenModalRespuesta(this.selectTramite.procedure.requirementHistory[this.selectTramite.procedure.requirementHistory.length-1].id)),class:"botonSubmit"})])):(0,i.kq)("",!0),this.selectTramite.procedure.documents.length>=1?((0,i.wg)(),(0,i.iD)("div",_e,[we,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.selectTramite.procedure.documents,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,style:{display:"flex","flex-direction":"row"}},[(0,i._)("p",null,"*"+(0,m.zw)(e.title),1),(0,i._)("a",{target:"_blank",href:`${e.link}`},"Descargar ",8,fe)])))),128))])):(0,i.kq)("",!0)])])):(0,i.kq)("",!0),!0===n.modalPDF?((0,i.wg)(),(0,i.iD)("div",ke,[n.pdfSubmitt?((0,i.wg)(),(0,i.iD)("div",ve,[(0,i._)("div",ye,[(0,i._)("h3",null,"Constancia de trámite Nº: "+(0,m.zw)(this.pdfSubmitt.id),1)]),(0,i._)("h5",null,"Nombre: "+(0,m.zw)(this.pdfSubmitt.procedure.title),1),(0,i._)("p",null," Fecha de creación: "+(0,m.zw)(new Date(this.pdfSubmitt?.created_at).toLocaleDateString()),1),(0,i._)("p",De,(0,m.zw)(this.pdfSubmitt.communication[0].message),1),(0,i._)("p",null,[(0,i.Uk)(" Usuario Municipal asignado: "),(0,i._)("strong",null,(0,m.zw)(this.pdfSubmitt.userMuni.firstname)+" "+(0,m.zw)(this.pdfSubmitt.userMuni.lastname),1)]),(0,i._)("p",null," Fecha de emisión: "+(0,m.zw)(new Date(this.pdfSubmitt?.actual_date).toLocaleDateString()),1)])):(0,i.kq)("",!0),n.pdfRequirement?((0,i.wg)(),(0,i.iD)("div",be,[(0,i._)("div",Te,[(0,i._)("h3",null," Constancia de requerimiento Nº: "+(0,m.zw)(this.pdfRequirement.procedureHistory.id),1)]),(0,i._)("h5",null,"Nombre: "+(0,m.zw)(this.pdfRequirement.title),1),(0,i._)("p",null," Fecha de creación: "+(0,m.zw)(new Date(this.pdfRequirement?.created_at).toLocaleDateString()),1),(0,i._)("p",null," Fecha de cierre de requerimiento: "+(0,m.zw)(new Date(this.pdfRequirement?.finalized_at).toLocaleDateString()),1),(0,i._)("p",qe,(0,m.zw)(this.pdfRequirement.info_req),1),(0,i._)("p",null," Fecha de emisión: "+(0,m.zw)(new Date(this.pdfRequirement?.actual_date).toLocaleDateString()),1)])):(0,i.kq)("",!0),this.pdfFinalized?((0,i.wg)(),(0,i.iD)("div",ze,[(0,i._)("div",Ce,[(0,i._)("h3",null," Constancia de finalización trámite Nº: "+(0,m.zw)(this.pdfFinalized.id),1)]),(0,i._)("h5",null,"Nombre: "+(0,m.zw)(this.pdfFinalized.procedure.title),1),(0,i._)("p",null," Fecha de finalización: "+(0,m.zw)(new Date(this.pdfFinalized?.resolution__date).toLocaleDateString()),1),(0,i._)("p",Re,(0,m.zw)(this.pdfFinalized.communication[0].message),1),(0,i._)("p",null,[(0,i.Uk)(" Usuario Municipal asignado: "),(0,i._)("strong",null,(0,m.zw)(this.pdfFinalized.userMuni.firstname)+" "+(0,m.zw)(this.pdfFinalized.userMuni.lastname),1)]),(0,i._)("p",null," Fecha de emisión: "+(0,m.zw)(new Date(this.pdfFinalized?.actual_date).toLocaleDateString()),1)])):(0,i.kq)("",!0),(0,i._)("div",Fe,[(0,i._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[9]||(t[9]=e=>this.modalPDF=!1)}," Cerrar "),(0,i._)("button",{type:"button",onClick:t[10]||(t[10]=e=>o.download(this.content)),class:"btn btn-primary"}," Descargar ")])])):(0,i.kq)("",!0),""!==this.msj?((0,i.wg)(),(0,i.iD)("h2",Pe,(0,m.zw)(this.msj),1)):(0,i.kq)("",!0),(0,i._)("div",Se,[(0,i.Wm)(l,{to:"/munienlinea"},{default:(0,i.w5)((()=>[xe])),_:1}),Le])])}s(7658);var Ue=s(70),Me=s(1198);const Ae=e=>((0,i.dD)("data-v-3d0cf1d5"),e=e(),(0,i.Cn)(),e),Ie={class:"contenedor"},Ne=Ae((()=>(0,i._)("h5",{style:{"margin-top":"5px"}},[(0,i._)("i",{class:"bi bi-calendar4-week"})],-1))),Ee=Ae((()=>(0,i._)("img",{src:Me,alt:""},null,-1)));function He(e,t,s,a,n,o){return(0,i.wg)(),(0,i.iD)("div",Ie,[(0,i.wy)((0,i._)("input",{type:"text",name:"",id:"","onUpdate:modelValue":t[0]||(t[0]=e=>n.gestion=e),placeholder:"Nº GESTIÓN"},null,512),[[h.nr,n.gestion]]),(0,i.wy)((0,i._)("input",{type:"text",name:"",id:"","onUpdate:modelValue":t[1]||(t[1]=e=>n.fecha=e),placeholder:"FECHA"},null,512),[[h.nr,n.fecha]]),Ne,(0,i.wy)((0,i._)("input",{type:"text",name:"titulo",id:"",class:"inputTitulo","onUpdate:modelValue":t[2]||(t[2]=e=>n.titulo=e),placeholder:"TITULO"},null,512),[[h.nr,n.titulo]]),Ee])}var Be={data(){return{gestion:"",fecha:"",titulo:""}}},Oe=s(89);const Ve=(0,Oe.Z)(Be,[["render",He],["__scopeId","data-v-3d0cf1d5"]]);var je=Ve,$e=s(8713),We=s(5939),Ye=s(9306),Ge=s(8914),Ke={props:{setLoading:Function},data(){return{loading:!1,msj:"",length:null,activos:[],cont:0,l:0,paginas:null,modalComunicaciones:!1,modalVista:!1,modalresponse:!1,selectTramite:null,selectRequerimiento:null,respuestaA:null,respuestaB:[],asd:!1,file:"",pagina:1,idTramite:null,comunicaciones:"",presentacionTramite:null,inicioTramite:null,requerimientoTramite:null,finalizacionTramite:null,pdfSubmitt:null,pdfRequirement:null,pdfFinalized:null,modalPDF:!1,content:""}},components:{SearchPresentadasComponent:je},created(){this.getMyProcedure()},methods:{download(e){let t=document.getElementById("content"+e);var s=new Ge.ZP("p","pt","A4");s.html(t,{y:2,x:2,callback:function(e){e.save("Constancia.pdf")}})},verTramite(e){this.idTramite=e;const t=Ue.ZP.create({baseURL:Ye._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});t.get("/oficina/procedures/my-procedure/"+e).then((e=>{console.log(e.data),this.selectTramite=e.data.MyProcedure,this.modalVista=!0})).catch((t=>{500===t.response.status&&("Token de usuario expirado"===t.response.data.message&&((0,$e.Z)(),this.verTramite(e)),"Token de representante expirado"===t.response.data.message&&((0,We.Z)(),this.verTramite(e)))}))},getMyProcedure(){this.activos=[];const e=Ue.ZP.create({baseURL:Ye._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});e.get(`/oficina/procedures/history/my-procedures?page=${this.pagina}`).then((e=>{let t=e.data.MyProcedures;console.log(e+"mis tramites"),this.l=t.length;for(let s=0;s<t.length;s++){let e={id:null,fecha:null,categoria:"",estado:"",color:"",titulo:"",comunicaciones:null,open:!1},i=t[s].updated_at,a=new Date(i);const n=a.getDate(),o=a.getMonth()+1,r=a.getFullYear();switch(e.id=t[s].id,e.fecha=`${n}/${o}/${r}`,e.categoria=t[s].category.title,e.estado=t[s].status.status,e.titulo=t[s].procedure.title,e.comunicaciones=t[s].communicationCount,e.estado){case"PRESENTADO":e.color="var(--green)";break;case"EN PROCESO":e.color="var(--yellow)";break;case"PAUSADO POR REQUERIMIENTO":e.color="var(--red)",e.requerido=!0;break;case"FINALIZADO":e.color="var(--lblue)";break;default:break}this.activos.push(e)}this.length=e.data.MyProcedures.length,this.setLoading()})).catch((e=>{console.log(e),500===e.response.status&&("Token de usuario expirado"===e.response.data.message&&((0,$e.Z)(),this.getMyProcedure()),"Token de representante expirado"===e.response.data.message&&((0,We.Z)(),this.getMyProcedure())),401===e.response.status&&this.$router.push("micuenta-update"),404===e.response.status&&(this.msj="No hay mas trámites que mostrar"),this.setLoading()}))},getComunicaciones(e){const t=Ue.ZP.create({baseURL:Ye._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});t.get("/oficina/procedures/my-procedure/"+e).then((t=>{console.log(t.data),this.comunicaciones=t.data.MyProcedure.procedure.communication[t.data.MyProcedure.procedure.communication.length-1],this.openModalComunicaciones(e)})).catch((t=>{500===t.response.status&&("Token de usuario expirado"===t.response.data.message&&((0,$e.Z)(),this.getComunicaciones(e)),"Token de representante expirado"===t.response.data.message&&((0,We.Z)(),this.getComunicaciones(e)))}))},openModalComunicaciones(e){this.selectTramite=e,this.modalComunicaciones=!this.modalComunicaciones},OpenModalRespuesta(e){this.selectRequerimiento=e,this.modalresponse=!this.modalresponse,console.log(this.selectRequerimiento)},CloseModalRespuesta(){this.modalresponse=!1,this.respuestaA="",this.respuestaB="",this.file=""},selectFile(e){const t=document.getElementById("img-preview");this.file=e.target.files[0];const s=URL.createObjectURL(this.file);t.src=s,console.log(this.file,"soy el archivo",s)},postFile:async function(){const e=new FormData;e.append("file",this.file),e.append("upload_preset",Ye.W3),await fetch(Ye.uA,{method:"POST",body:e}).then((e=>e.json())).then((e=>{console.log(e.secure_url,"secure_url"),this.respuestaB.push({file:e.secure_url}),this.fileSelect=null,this.asd=!0}))},sentRespuesta(){const e=Ue.ZP.create({baseURL:Ye._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});this.respuestaA&&this.respuestaB.length>=1&&e.post("/requirements/answer-requirement/"+this.selectRequerimiento,{answer:this.respuestaA,documentRequirement:this.respuestaB}).then((e=>{200===e.status&&(this.message="Respuesta enviada!",this.activos=[],this.getMyProcedure(),this.modalComunicaciones=!1,this.respuestaA="",this.respuestaB="")})).catch((e=>{console.log(e.response),500===e.response.status&&("Token de usuario expirado"===e.response.data.message&&((0,$e.Z)(),this.sentRespuesta()),"Token de representante expirado"===e.response.data.message&&((0,We.Z)(),this.sentRespuesta()))})),this.respuestaA&&0===this.respuestaB.length&&e.post("/requirements/answer-requirement/"+this.selectRequerimiento,{answer:this.respuestaA}).then((e=>{200===e.status&&(this.message="Respuesta enviada!",this.getMyProcedure(),this.modalComunicaciones=!1,this.respuestaA="",this.respuestaB="")})).catch((e=>{console.log(e),500===e.response.status&&("Token de usuario expirado"===e.response.data.message&&((0,$e.Z)(),this.sentRespuesta()),"Token de representante expirado"===e.response.data.message&&((0,We.Z)(),this.sentRespuesta()))})),!this.respuestaA&&Array.isArray(this.respuestaB)?e.post("/requirements/answer-requirement/"+this.selectRequerimiento,{documentRequirement:this.respuestaB}).then((e=>{200===e.status&&(this.message="Respuesta enviada!",this.getMyProcedure(),this.modalComunicaciones=!1,this.respuestaA="",this.respuestaB="")})).catch((e=>{500===e.response.status&&("Token de usuario expirado"===e.response.data.message&&((0,$e.Z)(),this.sentRespuesta()),"Token de representante expirado"===e.response.data.message&&((0,We.Z)(),this.sentRespuesta()))})):this.messageResponse=!0,console.log(this.respuestaA,this.respuestaB)},nextPag(){this.pagina++,this.getMyProcedure()},backTramites(){this.pagina--,this.getMyProcedure()},open(e){this.activos.forEach((t=>{t.id===e?t.open=!t.open:t.open=!1,!0===t.open&&this.getHistory(e)}))},getHistory(e){const t=Ue.ZP.create({baseURL:Ye._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});t.get("/oficina/procedures/timeline/"+e).then((e=>{console.log(e.data),this.presentacionTramite=e.data.CreatedDate,this.inicioTramite=e.data.InProcessDate,this.requerimientoTramite=e.data.RequirementDates,this.finalizacionTramite=e.data.FinalizedDate}))},createPDFsubmitt(e){const t=Ue.ZP.create({baseURL:Ye._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});t.get("/oficina/procedures/submitted-procedure-data/"+e).then((e=>{this.pdfSubmitt=e.data,this.pdfRequirement=null,this.pdfFinalized=null,this.content="1",this.modalPDF=!0,console.log(e.data)})).catch((t=>{console.log(t.response),500===t.response.status&&("Token de usuario expirado"===t.response.data.message&&((0,$e.Z)(),this.createPDFsubmitt(e)),"Token de representante expirado"===t.response.data.message&&((0,We.Z)(),this.createPDFsubmitt(e)))}))},createPDFrequirement(e,t){console.log(e,t,"soy el tramite y el requer");const s=Ue.ZP.create({baseURL:Ye._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});s.get("/oficina/procedures/requirement-procedure-data/"+e+"/"+t).then((e=>{console.log(e.data),this.pdfRequirement=e.data,this.pdfSubmitt=null,this.pdfFinalized=null,this.content="2",this.modalPDF=!0})).catch((s=>{console.log(s.response),500===s.response.status&&("Token de usuario expirado"===s.response.data.message&&((0,$e.Z)(),this.createPDFrequirement(e,t)),"Token de representante expirado"===s.response.data.message&&((0,We.Z)(),this.createPDFrequirement(e,t)))}))},createPDFfinalized(e){const t=Ue.ZP.create({baseURL:Ye._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});t.get("/oficina/procedures/finalized-procedure-data/"+e).then((e=>{console.log(e),this.pdfFinalized=e.data,this.pdfSubmitt=null,this.pdfRequirement=null,this.content="3",this.modalPDF=!0})).catch((t=>{console.log(t.response),500===t.response.status&&("Token de usuario expirado"===t.response.data.message&&((0,$e.Z)(),this.createPDFfinalized(e)),"Token de representante expirado"===t.response.data.message&&((0,We.Z)(),this.createPDFfinalized(e)))}))}}};const Qe=(0,Oe.Z)(Ke,[["render",Ze],["__scopeId","data-v-1a798378"]]);var Je=Qe,Xe={name:"TramitesView",components:{Tabla:Je},data(){return{loading:!0}},created(){this.loading=!1},computed:{setPermission(){return!0===this.$store.state.loggedIn}},methods:{setLoading(){this.loading=!1}}};const et=(0,Oe.Z)(Xe,[["render",p],["__scopeId","data-v-f41a03b6"]]);var tt=et},8018:function(e,t,s){e.exports=s.p+"img/FlechaIzquierda.96256fc8.svg"},1198:function(e,t,s){e.exports=s.p+"img/Search.b5858a2b.svg"},9335:function(e,t,s){e.exports=s.p+"img/close.90ff7eac.svg"},1593:function(e,t,s){e.exports=s.p+"img/next.1e590530.svg"},5554:function(e,t,s){e.exports=s.p+"img/previous.f2eb8db4.svg"},731:function(e,t,s){e.exports=s.p+"img/red-check-mark-icon.dd8d0a39.svg"}}]);
//# sourceMappingURL=377.937bfcde.js.map