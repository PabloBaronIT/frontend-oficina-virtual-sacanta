(function(){"use strict";var e={9306:function(e,t,n){n.d(t,{Zt:function(){return o},_n:function(){return a},wL:function(){return r}});const o='"^Yh19S&^8&Fagyg8eLxrI8uxypiCpdUdRscjF!xKSSqq";',a="https://oficina-virtual-pablo-baron.up.railway.app",r="614921631247-hp7vv1u1bh0q7a3crpaa6070m8knkpo8.apps.googleusercontent.com"},8392:function(e,t,n){var o=n(9242),a=n(3396);const r={class:"main-container"};function i(e,t,n,o,i,s){const c=(0,a.up)("NavTopVue"),l=(0,a.up)("NavMunicipalesComponentVue"),u=(0,a.up)("NavComponent"),d=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,["MUNI_ROLE"!=this.role&&this.setPermission?((0,a.wg)(),(0,a.j4)(c,{key:0})):(0,a.kq)("",!0),void 0!=this.role&&"MUNI_ROLE"===this.role?((0,a.wg)(),(0,a.j4)(l,{key:1})):(0,a.kq)("",!0),(0,a._)("div",r,["MUNI_ROLE"!=this.role&&this.setPermission?((0,a.wg)(),(0,a.j4)(u,{key:0})):(0,a.kq)("",!0),(0,a.Wm)(d)])],64)}const s={class:"nav-container"},c={key:0,id:"sidebarMenu",class:"btn-container scale-up-center"},l={class:"navUser"},u={key:1,id:"sidebarMenu",class:"btn-container"};function d(e,t,n,r,i,d){const m=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",s,["MUNI_ROLE"!==this.role?((0,a.wg)(),(0,a.iD)("nav",c,[(0,a._)("div",l,[(0,a.wy)((0,a.Wm)(m,{to:"/munienlinea",class:"bn3"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Inicio ")])),_:1},512),[[o.F8,d.setPermission]]),(0,a.wy)((0,a.Wm)(m,{to:"/tramites",class:"bn3"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Mis tramites ")])),_:1},512),[[o.F8,d.setPermission]]),(0,a.wy)((0,a.Wm)(m,{to:"/notificaciones",class:"bn3"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Mis Comunicaciones ")])),_:1},512),[[o.F8,d.setPermission]]),(0,a._)("input",{onClick:t[0]||(t[0]=(...e)=>d.logOf&&d.logOf(...e)),class:"bn3 close",type:"button",value:"Cerrar Sesion"})])])):(0,a.kq)("",!0),"MUNI_ROLE"==this.role?((0,a.wg)(),(0,a.iD)("nav",u,[(0,a.wy)((0,a.Wm)(m,{to:"/muni",class:"bn3"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Back ")])),_:1},512),[[o.F8,i.permission]]),(0,a._)("input",{onClick:t[1]||(t[1]=(...e)=>d.logOf&&d.logOf(...e)),class:"bn3",type:"button",value:"Cerrar Sesion"})])):(0,a.kq)("",!0)])}n(7658);var m=n(6070),p={name:"NavComponent",data(){return{ruta:this.$router.currentRoute.value.fullPath,usuario:localStorage.getItem("name"),apellido:localStorage.getItem("lastname"),dni:localStorage.getItem("cuil"),permission:!1,user_id:localStorage.getItem("id"),role:localStorage.getItem("role"),user:null}},created(){this.role=localStorage.getItem("role"),this.$store.state.user?.cuil&&(this.permission=!0)},watch:{},computed:{setPermission(){return!!this.$store.state.user?.cuil}},methods:{logOf(){localStorage.clear(),this.dispatchOutLogin(),location.reload(),this.$router.push("login"),(0,m.Kz)(),document.cookie="cidi=; max-age=0",window.dispatchEvent(new CustomEvent("token-localstorage-changed",{detail:{storage:localStorage.getItem("token")}}))},dispatchOutLogin(){this.$store.dispatch("mockOutAction")}}},f=n(89);const h=(0,f.Z)(p,[["render",d],["__scopeId","data-v-f805e362"]]);var g=h,v=n(7139),b=n.p+"img/LogoSacantaHorizontal.1cda5942.svg",k=n.p+"img/MuniEnLinea.f8361b56.svg";const w=e=>((0,a.dD)("data-v-b6a7cf4c"),e=e(),(0,a.Cn)(),e),y={class:"asd"},_=w((()=>(0,a._)("img",{src:b,alt:"Sacanta",class:"imagenlogo"},null,-1))),I={class:"usuario"},S=["src"],P={key:0,class:"usuario-details"},C=w((()=>(0,a._)("div",null,[(0,a._)("p")],-1))),O={key:0},A={class:"nameRepresntative"},U=w((()=>(0,a._)("img",{class:"logo scale-up-center",src:k,alt:""},null,-1)));function q(e,t,n,o,r,i){const s=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",y,[_,(0,a._)("div",I,[(0,a._)("img",{src:this.avatar,alt:"imagen"},null,8,S),this.$store.state.user?((0,a.wg)(),(0,a.iD)("div",P,[(0,a._)("div",null,[(0,a._)("h4",null,[(0,a.Uk)(" Hola "),(0,a._)("strong",null,(0,v.zw)(e.$store.state.user.firstname),1)]),(0,a._)("span",null,"CUIL: "+(0,v.zw)(e.$store.state.user.cuil),1)]),C,(0,a._)("div",null,[this.$store.state.representante?((0,a.wg)(),(0,a.iD)("p",O,[(0,a.Uk)(" Representado por: "),(0,a._)("strong",A,(0,v.zw)(e.$store.state.representante.firstname)+" "+(0,v.zw)(e.$store.state.representante.lastname),1)])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)]),(0,a.Wm)(s,{to:"/munienlinea"},{default:(0,a.w5)((()=>[U])),_:1})])}var L=n(70),T=n(8713),E=n(5939),j=n(9306),N={name:"NavTopVue",data(){return{ruta:this.$router.currentRoute.value.fullPath,permission:!0,user:"",representante:"",avatar:this.$store.state.user?.avatar}},created(){this.role=this.$store.state.user?.role,this.getMyProfile();let e=localStorage.getItem("idRepresentante")||null;e&&this.getRepresentante(e)},watch:{},methods:{dispatchLogin(){this.$store.dispatch("mockLoginAction",this.user)},dispatchRepresentante(){this.$store.dispatch("mockRepresentanteAction",this.representante)},getMyProfile(){const e=L.ZP.create({baseURL:j._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});e.get("/oficina/user/profile").then((e=>{console.log(e.data,"datos de usuariodb"),this.user=e.data.UserProfile.user,this.dispatchLogin(),window.localStorage.setItem("role",e.data.UserProfile.user.role),window.localStorage.setItem("name",e.data.UserProfile.user.firstname),window.localStorage.setItem("lastname",e.data.UserProfile.user.lastname),window.localStorage.setItem("cuil",e.data.UserProfile.user.cuil),window.localStorage.setItem("adress",e.data.UserProfile.user.adress),window.localStorage.setItem("email",e.data.UserProfile.user.email),window.localStorage.setItem("id",e.data.UserProfile.user.id),window.localStorage.setItem("fecha-creacion",e.data.UserProfile.user.created_at),window.localStorage.setItem("nivel",e.data.UserProfile.user.level.level)})).catch((e=>{console.log(e),500===e.response.status&&("Token de usuario expirado"===e.response.data.message&&((0,T.Z)(),this.getMyProfile()),"Token de representante expirado"===e.response.data.message&&((0,E.Z)(),this.getMyProfile()))}))},getRepresentante(e){const t=L.ZP.create({baseURL:j._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token"),"access-user-header":j.Zt}});t.get("/oficina/users/"+e).then((e=>{console.log(e.data,"datos representante"),this.representante=e.data.User,this.dispatchRepresentante()})).catch((t=>{console.log(t),500===t.response.status&&("Token de usuario expirado"===t.response.data.message&&((0,T.Z)(),this.getRepresentante(e)),"Token de representante expirado"===t.response.data.message&&((0,E.Z)(),this.getRepresentante(e)))}))},logOf(){localStorage.clear(),location.reload(),this.$router.push("login"),window.dispatchEvent(new CustomEvent("token-localstorage-changed",{detail:{storage:localStorage.getItem("token")}}))}}};const R=(0,f.Z)(N,[["render",q],["__scopeId","data-v-b6a7cf4c"]]);var M=R;const Z=e=>((0,a.dD)("data-v-68874408"),e=e(),(0,a.Cn)(),e),$={class:"navMuni"},x=Z((()=>(0,a._)("button",{type:"button",class:"btn btn-light"},"Crear Usuarios",-1))),D=Z((()=>(0,a._)("button",{type:"button",class:"btn btn-light"},"Registro de pagos",-1)));function F(e,t,n,o,r,i){const s=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",$,[(0,a.Wm)(s,{to:"/municipales",style:{"text-decoration":"none"}},{default:(0,a.w5)((()=>[(0,a._)("h3",null,"Hola! "+(0,v.zw)(r.name)+" "+(0,v.zw)(r.lastName),1)])),_:1}),(0,a._)("button",{type:"button",class:"btn btn-light",onClick:t[0]||(t[0]=e=>i.logOf())}," Cerrar sesiÃ³n "),(0,a.Wm)(s,{to:"/municipales/creacion-usuario"},{default:(0,a.w5)((()=>[x])),_:1}),(0,a.Wm)(s,{to:"/municipales/pagos"},{default:(0,a.w5)((()=>[D])),_:1})])}var W={name:"NavMunicipalesComponet",data(){return{token:localStorage.getItem("token"),name:localStorage.getItem("name"),lastName:localStorage.getItem("lastname")}},methods:{refresh(){location.reload()},logOf(){localStorage.clear(),location.reload(),this.$router.push("login"),window.dispatchEvent(new CustomEvent("token-localstorage-changed",{detail:{storage:localStorage.getItem("token")}}))}}};const z=(0,f.Z)(W,[["render",F],["__scopeId","data-v-68874408"]]);var B=z,H={data(){return{role:"",cuil:""}},created(){this.role=localStorage.getItem("role")||null},watch:{$route(){this.role=localStorage.getItem("role")}},computed:{setPermission(){return!0===this.$store.state.loggedIn}},components:{NavComponent:g,NavTopVue:M,NavMunicipalesComponentVue:B}};const V=(0,f.Z)(H,[["render",i],["__scopeId","data-v-7e0af3ff"]]);var K=V,Q=n(1120),Y=n(65),G=(0,Y.MT)({state:{loggedIn:!1,token:localStorage.getItem("token"),procedure:[],user:{},CidiCookie:null,representante:null},getters:{getProfile(e){return e.firstname}},mutations:{loggedIn(e,t){e.user=t},setCidi(e,t){e.CidiCookie=t},saveProcedure(e,t){e.procedure.push(t)},cleanStore(e){e.procedure=[]},representante(e,t){e.representante=t},login(e){e.loggedIn=!0},outLogin(e){e.loggedIn=!1}},actions:{mockLoginAction(e,t){e.commit("loggedIn",t)},mockCidiAction(e,t){e.commit("setCidi",t)},mockRepresentanteAction(e,t){e.commit("representante",t)},saveP(e,t){e.commit("saveProcedure",t)},mockPaseAction(e){e.commit("login")},mockOutAction(e){e.commit("outLogin")},cleanAction(e){e.commit("cleanStore")}},modules:{}}),J=(n(2166),n(9770)),X=n.n(J),ee=n(4810),te=n(5109),ne=n.n(te),oe=n(6365),ae=n(1119);X().vfs=ee.I.vfs,(0,o.ri)(K).use(ae.BA,ae.u_).use(G).use(Q.Z).use(ne()).use(oe.ZP,{load:{key:"AIzaSyCsrNj3q6jmjiavruiFIQIIR-xhWrDb6sQ",autobindAllEvents:!0,libraries:"places"}}).use(m.ZP,{clientId:j.wL,buttonConfig:{theme:"filled_blue",shape:"rectangular"}}).mount("#app")},8713:function(e,t,n){n.d(t,{Z:function(){return r}});var o=n(70),a=n(9306);function r(){let e=localStorage.getItem("refreshToken");const t=o.ZP.create({baseURL:a._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});t.post("/refresh-token",{refreshToken:e}).then((e=>{localStorage.setItem("token",e.data.Token)})).catch((e=>{console.log(e.response,"soy el error del refreshToken")}))}},5939:function(e,t,n){n.d(t,{Z:function(){return r}});var o=n(70),a=n(9306);function r(){let e=localStorage.getItem("refreshToken");const t=o.ZP.create({baseURL:a._n,withCredentials:!1});t.post("/refresh-token-relations",{refreshToken:e.toString()}).then((e=>{localStorage.setItem("token",e.data.Token)})).catch((e=>{console.log(e.response,"soy el error del refreshToken")}))}},1120:function(e,t,n){var o=n(2483);const a=[{path:"/",redirect:"/login",component:()=>n.e(443).then(n.bind(n,6115))},{path:"/login",name:"login",component:()=>n.e(443).then(n.bind(n,6115))},{path:"/munienlinea",name:"munienlinea",component:()=>n.e(237).then(n.bind(n,1237)),meta:{requiresAuth:!0}},{path:"/sector/:sectorTitle/:sectorId",name:"sector",component:()=>n.e(974).then(n.bind(n,974)),meta:{requiresAuth:!0}},{path:"/tramites",name:"tramites",component:()=>Promise.all([n.e(914),n.e(21)]).then(n.bind(n,3021)),meta:{requiresAuth:!0}},{path:"/notificaciones",name:"notificaciones",component:()=>n.e(241).then(n.bind(n,7241)),meta:{requiresAuth:!0}},{path:"/pago/:idTramite",name:"pago",component:()=>Promise.all([n.e(914),n.e(430)]).then(n.bind(n,7430)),meta:{requiresAuth:!0}},{path:"/pago-resultado",name:"pago-resultado",component:()=>n.e(836).then(n.bind(n,1751)),meta:{requiresAuth:!0}},{path:"/formulario/:formularioTitle/:formularioId",name:"formulario",component:()=>Promise.all([n.e(914),n.e(261)]).then(n.bind(n,1261)),meta:{requiresAuth:!0}},{path:"/micuenta",name:"micuenta",component:()=>n.e(712).then(n.bind(n,4702)),meta:{requiresAuth:!0}},{path:"/micuenta-update",name:"micuenta-update",component:()=>n.e(900).then(n.bind(n,9900)),meta:{requiresAuth:!0}},{path:"/crear-cuenta",name:"createUser",component:()=>n.e(679).then(n.bind(n,9679)),meta:{requiresAuth:!1}},{path:"/auth/reset-password/:token",name:"reset-password",component:()=>n.e(96).then(n.bind(n,96)),meta:{requiresAuth:!1}},{path:"/municipales",name:"municipales",component:()=>Promise.all([n.e(914),n.e(834)]).then(n.bind(n,9021)),meta:{requiresAuth:!0}},{path:"/municipales/creacion-usuario",name:"createUserMuni",component:()=>n.e(556).then(n.bind(n,998)),meta:{requiresAuth:!0}},{path:"/municipales/pagos",name:"municipales-pagos",component:()=>n.e(889).then(n.bind(n,889)),meta:{requiresAuth:!0}},{path:"/municipales/assign-password",name:"asign-password",component:()=>n.e(177).then(n.bind(n,177)),meta:{requiresAuth:!0}}],r=(0,o.p7)({history:(0,o.r5)(),routes:a});r.beforeEach(((e,t,n)=>{let o=localStorage.getItem("token");e.matched.some((e=>e.meta.requiresAuth))?null!=o?n():n("/login"):n()})),t["Z"]=r}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,r){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],r=e[u][2];for(var s=!0,c=0;c<o.length;c++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(s=!1,r<i&&(i=r));if(s){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,a,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(o,a){if(1&a&&(o=this(o)),8&a)return o;if("object"===typeof o&&o){if(4&a&&o.__esModule)return o;if(16&a&&"function"===typeof o.then)return o}var r=Object.create(null);n.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&o;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return o[e]}}));return i["default"]=function(){return o},n.d(r,i),r}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+(443===e?"about":e)+"."+{21:"b8d3da71",96:"8d717660",128:"e29219d1",177:"cc8ab411",237:"51e175e4",241:"27429ed5",261:"a5dcca42",269:"5dd55271",430:"7480adf8",443:"a59c1c7a",556:"df32577e",617:"7afa8228",679:"bf307703",712:"b9142f2e",834:"493bfc8b",836:"fd4a2c0c",889:"437c7ce3",900:"164fedcf",914:"aa71791c",974:"1896f7dc"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+(443===e?"about":e)+"."+{21:"b9a2c43a",96:"40ecafee",177:"e1c5b6e7",237:"bd47db90",241:"7ff7a90a",261:"adba21eb",430:"77b341fb",443:"88c1211c",556:"b3d5cdd9",679:"92abe10a",712:"bfd6ecde",834:"eb787bd0",836:"2c84e474",889:"aa2fc48f",900:"6d5ee9db",974:"1547e5b9"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="oficina-vue:";n.l=function(o,a,r,i){if(e[o])e[o].push(a);else{var s,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+r){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+r),s.src=o),e[o]=[a];var m=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var a=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/frontend-oficina-virtual/"}(),function(){var e=function(e,t,n,o){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var r=function(r){if(a.onerror=a.onload=null,"load"===r.type)n();else{var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=s,a.parentNode.removeChild(a),o(c)}};return a.onerror=a.onload=r,a.href=t,document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var a=n[o],r=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===e||r===t))return a}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){a=i[o],r=a.getAttribute("data-href");if(r===e||r===t)return a}},o=function(o){return new Promise((function(a,r){var i=n.miniCssF(o),s=n.p+i;if(t(i,s))return a();e(o,s,a,r)}))},a={143:0};n.f.miniCss=function(e,t){var n={21:1,96:1,177:1,237:1,241:1,261:1,430:1,443:1,556:1,679:1,712:1,834:1,836:1,889:1,900:1,974:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=o(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,o){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var r=new Promise((function(n,o){a=e[t]=[n,o]}));o.push(a[2]=r);var i=n.p+n.u(t),s=new Error,c=function(o){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var r=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,a[1](s)}};n.l(i,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,r,i=o[0],s=o[1],c=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var u=c(n)}for(t&&t(o);l<i.length;l++)r=i[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},o=self["webpackChunkoficina_vue"]=self["webpackChunkoficina_vue"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(8392)}));o=n.O(o)})();
//# sourceMappingURL=app.00b0296d.js.map