{"version":3,"file":"js/896.5aa565a1.js","mappings":"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","sources":["webpack://oficina-vue/./src/views/PagoVista/pagoResultadoView.vue","webpack://oficina-vue/./src/views/PagoVista/pagoResultadoView.vue?6f2f"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <!-- <div v-if=\"this.loading\" class=\"spinner-border loading\" role=\"status\">\r\n      <span class=\"sr-only\"></span>\r\n    </div> -->\r\n    <div class=\"prueba-container l\" v-if=\"this.loading\">\r\n      <div class=\"spinner-grow text-success\" role=\"status\">\r\n        <span class=\"sr-only\"></span>\r\n      </div>\r\n      <div class=\"spinner-grow text-success\" role=\"status\">\r\n        <span class=\"sr-only\"></span>\r\n      </div>\r\n      <div class=\"spinner-grow text-success\" role=\"status\">\r\n        <span class=\"sr-only\"></span>\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"container\">\r\n      <h1>{{ this.message }} <br /></h1>\r\n      <h2>Gracias por utilizar la oficina virtual de Sacanta</h2>\r\n      <div\r\n        class=\"constancia\"\r\n        v-if=\"this.dataPayment != null\"\r\n        id=\"constanciaPago\"\r\n      >\r\n        <n5>\r\n          {{ this.message }}\r\n        </n5>\r\n        <h4>Nombre del tr치mite: {{ this.dataPayment?.procedure.title }}</h4>\r\n        <p>Valor abonado:$ {{ this.dataPayment?.procedure.price }}</p>\r\n        <p>Numero de operaci칩n:{{ this.dataPayment.payment[0]?.payment_id }}</p>\r\n        <h4>\r\n          {{ this.dataPayment.user.firstname }}\r\n          {{ this.dataPayment.user.lastname }} {{ this.dataPayment.user.cuil }}\r\n        </h4>\r\n        <p>Fecha: {{ this.fecha }}</p>\r\n        <button type=\"button\" @click=\"download\" class=\"btn btn-primary\">\r\n          Descargar\r\n        </button>\r\n      </div>\r\n      <img\r\n        src=\"@/assets/images/logo-muni.svg\"\r\n        alt=\"Sacanta\"\r\n        class=\"imagenlogo\"\r\n      />\r\n      <router-link :to=\"`/munienlinea`\" class=\"bn3\"> Inicio </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport setToken from \"@/middlewares/setToken\";\r\nimport setTokenRelations from \"@/middlewares/setTokenRelations\";\r\nimport { BASE_URL } from \"@/env\";\r\nimport jsPDF from \"jspdf\";\r\n\r\nexport default {\r\n  name: \"Pago-exitoso\",\r\n  created() {\r\n    this.IdResultado = this.$route.query.IdResultado;\r\n    this.IdReferenciaOperacion = this.$route.query.IdReferenciaOperacion;\r\n    this.loading = true;\r\n    this.dispatchLoginPermission();\r\n    // this.getMyProfile();\r\n    this.setPayment();\r\n  },\r\n  data() {\r\n    return {\r\n      IdResultado: \"\",\r\n      IdReferenciaOperacion: \"\",\r\n      message: \"\",\r\n      loading: false,\r\n      user: \"\",\r\n      cidiCookie: \"\",\r\n      dataPayment: null,\r\n      fecha: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    setPermission() {\r\n      if (this.$store.state.loggedIn === true) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    dispatchLoginPermission() {\r\n      this.$store.dispatch(\"mockPaseAction\");\r\n    },\r\n    setPayment() {\r\n      console.log(\r\n        this.IdResultado,\r\n        this.IdReferenciaOperacion,\r\n        \"soy el idResutado y el IdReferencia\"\r\n      );\r\n\r\n      const apiClient = axios.create({\r\n        baseURL: BASE_URL,\r\n        withCredentials: false,\r\n        headers: {\r\n          \"auth-header\": localStorage.getItem(\"token\"),\r\n          \"access-user-header\":\r\n            \"^Yh19S&^8$yl01&Fagyg8eLxrI8uxypiCpdUdRscjF!xKSSqq\",\r\n        },\r\n      });\r\n      apiClient\r\n        .post(\"/confirm-payment/\" + this.IdReferenciaOperacion)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          this.message = response.data.message;\r\n          this.dataPayment = response.data.ProcedureData;\r\n          this.fecha =\r\n            new Date(response.data.actual_date).toLocaleDateString() || \"\";\r\n\r\n          this.loading = false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          this.message = error.response.data.message;\r\n          this.dataPayment = null;\r\n          this.loading = false;\r\n          if (error.response.status === 500) {\r\n            if (error.response.data.message === \"Token de usuario expirado\") {\r\n              setToken();\r\n              this.setPayment();\r\n            }\r\n            if (\r\n              error.response.data.message === \"Token de representante expirado\"\r\n            ) {\r\n              setTokenRelations();\r\n              this.setPayment();\r\n            }\r\n          }\r\n        });\r\n    },\r\n    download() {\r\n      // window.print();\r\n      var doc = new jsPDF(\"p\", \"pt\", \"A4\");\r\n      doc.setFontSize(20);\r\n      doc.setTextColor(0, 128, 0);\r\n      let imagenA =\r\n        \"https://github.com/PabloBaronIT/frontend-oficina-virtual/blob/main/src/assets/muni-en-linea-logo.png?raw=true\";\r\n      doc.addImage(imagenA, \"JPEG\", 50, 30, 60, 60);\r\n      doc.text(20, 30, \"Constacia de pago.\");\r\n      doc.setFontSize(15);\r\n\r\n      doc.setTextColor(0, 0, 0);\r\n      doc.text(\r\n        20,\r\n        60,\r\n        `Tramite: ${this.dataPayment?.procedure.title}, Id: ${this.dataPayment?.id}`,\r\n        {\r\n          lineHeightFactor: 2,\r\n        }\r\n      );\r\n      doc.text(20, 80, `Valor abonado: ${this.dataPayment?.procedure.price}`);\r\n\r\n      doc.text(\r\n        20,\r\n        100,\r\n        `Cuil: ${this.dataPayment?.user.cuil}, nombre: ${this.dataPayment?.user.firstname} ${this.dataPayment?.user.lastname}`\r\n      );\r\n      doc.text(\r\n        20,\r\n        120,\r\n        `Numero de Operaci칩n: ${this.dataPayment.payment[0]?.payment_id}`\r\n      );\r\n      doc.text(20, 140, `Fechad de emisi칩n: ${this.fecha}`);\r\n      doc.save(\"Costancia de pago.pdf\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  padding-top: 3rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  height: auto;\r\n  background-color: #f5f5f5;\r\n}\r\n.constancia {\r\n  width: 60vw;\r\n  display: block;\r\n  margin: auto;\r\n  background: rgb(255, 255, 255);\r\n  text-align: center;\r\n  margin-top: 3rem;\r\n  padding: 1rem;\r\n}\r\n.bn3 {\r\n  height: 3rem;\r\n  width: 11rem;\r\n  border: 0.16em solid rgb(255, 255, 255);\r\n  text-align: center;\r\n  background-image: linear-gradient(\r\n    to right,\r\n    #399943,\r\n    #4ea242,\r\n    #62aa40,\r\n    #75b23f,\r\n    #88ba3e\r\n  );\r\n  border-top-left-radius: 30px;\r\n  border-top-right-radius: 30px;\r\n  padding-top: 0.8rem;\r\n  margin-top: 1rem;\r\n  transition: all 0.2s;\r\n  border-style: none;\r\n}\r\n.imagenlogo {\r\n  width: 100px;\r\n  height: 120px;\r\n  margin-top: 2rem;\r\n}\r\n.l {\r\n  flex-direction: row;\r\n}\r\n</style>\r\n","import { render } from \"./pagoResultadoView.vue?vue&type=template&id=617099d6&scoped=true\"\nimport script from \"./pagoResultadoView.vue?vue&type=script&lang=js\"\nexport * from \"./pagoResultadoView.vue?vue&type=script&lang=js\"\n\nimport \"./pagoResultadoView.vue?vue&type=style&index=0&id=617099d6&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\Front-O.V\\\\frontend-oficina-virtual\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-617099d6\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","role","_hoisted_3","_hoisted_4","_hoisted_5","id","src","_imports_0","alt","_createElementBlock","_hoisted_1","loading","_hoisted_2","_hoisted_7","message","_hoisted_9","dataPayment","_hoisted_10","_createVNode","_component_n5","procedure","title","price","payment","payment_id","user","firstname","lastname","cuil","fecha","type","onClick","$options","_hoisted_11","_component_router_link","to","name","created","this","IdResultado","$route","query","IdReferenciaOperacion","dispatchLoginPermission","setPayment","data","cidiCookie","computed","setPermission","$store","state","loggedIn","methods","dispatch","console","log","apiClient","axios","baseURL","BASE_URL","withCredentials","headers","localStorage","getItem","post","then","response","ProcedureData","Date","actual_date","toLocaleDateString","catch","error","status","setToken","setTokenRelations","download","doc","jsPDF","setFontSize","setTextColor","imagenA","addImage","text","lineHeightFactor","save","__exports__","render"],"sourceRoot":""}