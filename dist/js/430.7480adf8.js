"use strict";(self["webpackChunkoficina_vue"]=self["webpackChunkoficina_vue"]||[]).push([[430],{7430:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var s=a(3396),o=a(7139),r=a(9242);const n=e=>((0,s.dD)("data-v-677d42e2"),e=e(),(0,s.Cn)(),e),l={key:0,class:"main"},i={class:"container"},d={key:0,class:"prueba-container l"},c=n((()=>(0,s._)("div",{class:"spinner-grow text-primary",role:"status"},[(0,s._)("span",{class:"sr-only"})],-1))),u=n((()=>(0,s._)("div",{class:"spinner-grow text-secondary",role:"status"},[(0,s._)("span",{class:"sr-only"})],-1))),p=n((()=>(0,s._)("div",{class:"spinner-grow text-success",role:"status"},[(0,s._)("span",{class:"sr-only"})],-1))),m=[c,u,p],h={class:"prueba-container",id:"elemento"},b=n((()=>(0,s._)("h2",null,"Último paso:",-1))),_=n((()=>(0,s._)("p",null,[(0,s.Uk)(" Este tramite es arancelado, una vez que se "),(0,s._)("br"),(0,s.Uk)(" procese el pago podra descargar su comprobante. ")],-1))),g=n((()=>(0,s._)("button",{type:"button",class:"btn btn-primary m-1","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Ver detalles de trámite ",-1))),w={class:"modal fade asd",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},v={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},y={class:"modal-content",id:"content",style:{width:"100%",height:"100%","font-size":"15px"}},f=n((()=>(0,s._)("div",{class:"modal-header"},[(0,s._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"}," Detalle: "),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),k={style:{display:"flex","flex-direction":"row","justify-content":"space-between",padding:"0px 1rem"}},x={class:"modal-body text-start"},z={style:{display:"flex","flex-direction":"row","justify-content":"space-between",padding:"0px 1rem"}},C=n((()=>(0,s._)("p",null,"respuetas:",-1))),$={class:"footerCoprobante"},P=n((()=>(0,s._)("div",null,[(0,s._)("p",null,"Declaro que los datos asignados son verdaderos.")],-1))),D={key:0,class:"textRepresentative"},U={class:"modal-footer"},q=n((()=>(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Cerrar ",-1)));function T(e,t,a,n,c,u){const p=(0,s.up)("PagarComponent");return u.setPermission?((0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",i,[c.modal?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",d,m)),(0,s.wy)((0,s._)("div",h,[b,_,(0,s.Wm)(p),g,(0,s._)("div",w,[(0,s._)("div",v,[(0,s._)("div",y,[f,(0,s._)("div",k,[(0,s._)("p",null," Usuario:"+(0,o.zw)(this.$store.state.user.firstname)+" "+(0,o.zw)(" ")+" "+(0,o.zw)(this.$store.state.user.lastname),1),(0,s._)("p",null,"cuil:"+(0,o.zw)(this.$store.state.user.cuil),1)]),(0,s._)("div",x,[(0,s._)("h2",null,(0,o.zw)(this.$store.state.procedure[0].title||""),1),(0,s._)("div",z,[(0,s._)("p",null,"Fecha: "+(0,o.zw)(this.$store.state.procedure[0].fecha||""),1),(0,s._)("p",null," Valor: "+(0,o.zw)(this.$store.state.procedure[0].precio||""),1)]),C,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$store.state.procedure[0].questions,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"answer"},[(0,s._)("p",null,(0,o.zw)(e.question_option_history[0].answer||""),1)])))),128))]),(0,s._)("div",$,[P,this.$store.state.representante?((0,s.wg)(),(0,s.iD)("div",D,[(0,s.Uk)(" Este trámite fue presentado por "),(0,s._)("strong",null,(0,o.zw)(this.$store.state.representante.firstname)+" "+(0,o.zw)(this.$store.state.representante.lastname)+" en ",1),(0,s.Uk)(" representacion de "),(0,s._)("strong",null,(0,o.zw)(this.$store.state.user.firstname)+" "+(0,o.zw)(this.$store.state.user.lastname),1)])):(0,s.kq)("",!0)]),(0,s._)("div",U,[q,(0,s._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>u.download&&u.download(...e)),class:"btn btn-primary"}," Descargar ")])])])])],512),[[r.F8,c.modal]])])])):(0,s.kq)("",!0)}const I=e=>((0,s.dD)("data-v-2e8303fa"),e=e(),(0,s.Cn)(),e),Z={class:"container"},E={class:"text"},M=I((()=>(0,s._)("h2",null,"Tramite arancelado",-1))),A=I((()=>(0,s._)("b",null,null,-1))),G={key:0,class:"alert alert-success",role:"alert"},L={href:""};function V(e,t,a,r,n,l){return(0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("div",E,[(0,s._)("b",null,(0,o.zw)(this.$store.state.procedure[0].title),1),M,(0,s._)("p",null,[(0,s.Uk)(" Este tramite tiene un valor total de $"+(0,o.zw)(this.$store.state.procedure[0].precio)+" ",1),A]),(0,s._)("input",{class:"btn",type:"button",value:"Abonar mi trámite",style:{width:"50%"},onClick:t[0]||(t[0]=(...e)=>l.submitPago&&l.submitPago(...e))})]),this.modal?((0,s.wg)(),(0,s.iD)("div",G,[(0,s.Uk)(" Abra el siguiente link en el navegador Google Chrome para realizar su pago "),(0,s._)("a",L,(0,o.zw)(this.link),1)])):(0,s.kq)("",!0)])}var j=a(70),F=a(8713),R=a(5939),B=a(9306),H={name:"PagarComponent",created(){this.procedure_amount=this.$store.state.procedure[0].precio,this.idTramitePago=parseInt(this.$route.params.idTramite);let e=navigator.userAgent;e.indexOf("Chrome")>-1?this.browser="Google Chrome":this.browser="desconocido",console.log("Usted está utilizando: "+this.browser)},data(){return{procedure_amount:"",idTramitePago:"",modal:!1,link:"",browser:""}},methods:{submitPago(){const e=j.ZP.create({baseURL:B._n,withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});e.post("/payment-procedure",{procedure_history_id:this.idTramitePago,procedure_amount:this.procedure_amount}).then((e=>{console.log(e.data),"Google Chrome"===this.browser?window.location.href=e.data.Url:(this.link=e.data.Url,this.modal=!0)})).catch((e=>{console.log(e),500===e.response.status&&("Token de usuario expirado"===e.response.data.message&&((0,F.Z)(),this.submitPago()),"Token de representante expirado"===e.response.data.message&&((0,R.Z)(),this.submitPago()))}))}}},K=a(89);const O=(0,K.Z)(H,[["render",V],["__scopeId","data-v-2e8303fa"]]);var S=O,W=a(8914),Y={name:"PagoView",data(){return{modal:!1,comprobante:!1}},computed:{setPermission(){return!0===this.$store.state.loggedIn}},created(){setTimeout((()=>{this.modal=!0}),1e3)},components:{PagarComponent:S},methods:{download(){let e=document.getElementById("content");var t=new W.ZP({orientation:"p",unit:"px",format:"a4"});t.html(e,{y:2,x:2,callback:function(e){e.save("ConstanciaPago.pdf")}})},verComprobante(){this.comprobante=!this.comprobante}}};const J=(0,K.Z)(Y,[["render",T],["__scopeId","data-v-677d42e2"]]);var N=J}}]);
//# sourceMappingURL=430.7480adf8.js.map